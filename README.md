# Holography Work Repository

## 项目概述

本仓库主要用于实现全息图的生成，包含了从生成指定文字的图像到计算频谱相位全息图并进行可视化和保存的完整流程。主要功能包括生成指定文字的 1080p 图像，基于 Gerchberg-Saxton（GS）迭代算法生成傅里叶变换全息图，以及对目标图像、频谱相位全息图和重建图像进行可视化展示。

## 物理模型解释

### Gerchberg-Saxton（GS）迭代算法

GS 算法是一种用于计算全息图的迭代算法，主要用于在已知目标振幅分布的情况下，求解对应的相位分布。该算法基于傅里叶变换，通过在目标平面和全息图平面之间不断迭代，逐步优化相位分布，使得重建图像的振幅分布尽可能接近目标振幅分布。

#### 原理步骤

1. **初始化相位**：在目标平面上随机初始化一个相位分布。
2. **正向传播**：将目标振幅与初始化的相位相乘得到复振幅分布，然后对其进行二维离散傅里叶变换（DFFT），得到全息图平面的频谱。
3. **提取相位**：从全息图平面的频谱中提取相位信息。
4. **反向传播**：将提取的相位信息用于重建目标平面的复振幅分布，即对其进行二维离散傅里叶逆变换（IDFFT）。
5. **更新相位**：从重建的复振幅分布中提取新的相位信息，用于下一次迭代。
6. **迭代优化**：重复步骤 2-5，直到达到预设的迭代次数或满足收敛条件。

#### 数学公式

- **波数计算**：$k = \frac{2\pi}{\lambda}$，其中 $\lambda$ 为波长。
- **复振幅表示**：$U(x,y) = A(x,y)e^{i\phi(x,y)}$，其中 $A(x,y)$ 为振幅，$\phi(x,y)$ 为相位。
- **正向传播（DFFT）**：$H(u,v) = \mathcal{F}\{U(x,y)\}$，其中 $H(u,v)$ 为全息图平面的频谱，$\mathcal{F}$ 表示二维离散傅里叶变换。
- **反向传播（IDFFT）**：$U^{\prime}(x,y) = \mathcal{F}^{-1}\{e^{i\theta(u,v)}\}$，其中 $\theta(u,v)$ 为全息图平面的相位，$\mathcal{F}^{-1}$ 表示二维离散傅里叶逆变换。

### 全息图保存与可视化

- **相位归一化**：将计算得到的相位数据归一化到 0-255 的灰度范围，以便保存为灰度 PNG 图像。
- **可视化**：使用 matplotlib 库将目标图像、频谱相位全息图和重建图像进行可视化展示，方便直观观察结果。

## 安装依赖

```bash
pip install numpy matplotlib scipy pillow
```

## 使用方法

### 生成指定文字的 1080p 图像

运行 generate_light_character_1080p.py 文件，该脚本将生成一个指定文字居中显示的 1080p 图像，并保存为 BMP 格式。

```bash
python generate_light_character_1080p.py
```

### 计算频谱相位全息图并可视化和保存

运行 holography_encoding_dfft_fresnel_gs.py 文件，该脚本将读取生成的文字图像，基于 GS 迭代算法计算频谱相位全息图，可视化结果并保存为 PNG 格式。

```bash
python holography_encoding_dfft_fresnel_gs.py
```

## 注意事项

- 请确保当前目录下存在生成的文字图像，否则会抛出 `FileNotFoundError` 异常。
- 若未找到合适的中文字体，脚本会使用 PIL 默认字体，可能无法正确显示中文。

## 贡献

如果你有任何改进建议或发现了问题，请随时提交 issue 或 pull request